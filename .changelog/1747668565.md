---
applies_to:
- client
- aws-sdk-rust
authors:
- aajtodd
references:
- smithy-rs#4135
breaking: false
new_feature: true
bug_fix: false
---
Introduce a new `repeatedly()` function to `aws-smithy-mocks` sequence builder to build mock rules that behave as an
infinite sequence.

```rust
let rule = mock!(aws_sdk_s3::Client::get_object)
    .sequence()
    .http_status(503, None)
    .times(2)        // repeat the last output twice before moving onto the next response in the sequence
    .output(|| GetObjectOutput::builder()
        .body(ByteStream::from_static(b"success"))
        .build()
    )
    .repeatedly()    // repeat the last output forever
    .build();
```
