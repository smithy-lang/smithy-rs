---
applies_to:
- server
authors:
- rcoh
references: ["smithy-rs#4352", "smithy-rs#4345"]
breaking: false
new_feature: true
bug_fix: true
---
Update smithy-rs servers to support sending `initial-response` events over event streams.

Prior to this change, event streams that had initial responses were unsupported. This change also adds a new codegen setting, `alwaysSendEventStreamInitialResponse`.

When this setting is set to `true`, the generated server will unconditionally send `initial-response` objects, even when empty. This is required for compatibility with smithy-java as well as a few other clients.

This setting defaults to false currently because smithy-rs based clients do not currently support this behavior.

```json
"codegen": {
  "alwaysSendEventStreamInitialResponse": true // default false
}
```
