---
applies_to:
- aws-sdk-rust
authors:
- ysaito1001
references:
- smithy-rs#1798
- smithy-rs#4188
breaking: false
new_feature: true
bug_fix: true
---
Add full support for [AWS chunked content encoding](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-streaming.html). This affects S3's `PutObject` and `UploadPart` operations with streaming payloads. Streaming payloads are now split into 64 KiB chunks by default (the last chunk may be smaller) instead of being sent as a single chunk.

If the default chunk size does not suit the use case, it can be configured via the service config:

```
// Custom chunk size
let config = aws_sdk_s3::Config::builder()
    .chunk_size(Some(10240)) // 10 KiB chunks
    .build();
let client = aws_sdk_s3::Client::from_conf(config);
```

```
// Disable chunking (send entire content as one chunk)
let config = aws_sdk_s3::Config::builder()
    .chunk_size(None)
    .build();
let client = aws_sdk_s3::Client::from_conf(config);
```
